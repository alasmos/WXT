id: gcweb_node_landing_page_translation
migration_tags: null
migration_group: gcweb
label: 'Embedded data feed of node landing page content'
source:
  plugin: embedded_data
  data_rows:
    -
      name: homepage
      title: 'Canada.ca'
      language: fr
      body: |
        <p>Découvrez comment le gouvernement du Canada crée davantage de
        transparence et de responsabilisation, augmente la mobilisation
        citoyenne et favorise l’innovation et les possibilités économiques au
        moyen de données ouvertes, d’information ouverte et de dialogue
        ouvert.</p>
      alias: /homepage
      queue: front_page
      metatags:
        -
          title: '[node:title]'
          description: '[node:summary]'
          keywords: 'Canada.ca, Open Government, Open Government Canada, Canada Open Government, Canada Open'
      panelizer:
        -
          view_mode: page_manager
          default: two_column
          blocks:
            -
              id: page_title_block
              label: '[node:title]'
              label_display: visible
              region: top_left
              weight: 0
            -
              id: 'entity_block:653x194'
              label: Media
              label_display: 0
              region: top_right
              view_mode: default
              weight: 1
            -
              id: local_tasks_block
              label: Tabs
              label_display: '0'
              region: top_left
              weight: 1
            -
              id: 'entity_field:node:body'
              label: Body
              label_display: 0
              region: top_left
              weight: 5
          id: panels_variant
          uuid: 91b9d430-7b91-4a22-ac4d-2e5e0376c6a2
          label: 'Two Column'
          weight: 0
          layout: bs_2col_bricked
          layout_settings:
            layout:
              wrapper: div
              classes:
                row: row
              add_layout_class: 1
              attributes: ''
            regions:
              top:
                wrapper: div
                classes:
                  col-sm-12: col-sm-12
                add_region_classes: 1
                attributes: ''
              top_left:
                wrapper: div
                classes:
                  col-md-6: col-md-8
                add_region_classes: 1
                attributes: class|mrgn-tp-md
              top_right:
                wrapper: div
                classes:
                  col-md-6: col-md-4
                add_region_classes: 1
                attributes: class|mrgn-tp-xl
              middle:
                wrapper: div
                classes:
                  col-sm-12: col-sm-12
                add_region_classes: 1
                attributes: ''
              bottom_left:
                wrapper: div
                classes:
                  col-sm-6: col-sm-6
                add_region_classes: 1
                attributes: ''
              bottom_right:
                wrapper: div
                classes:
                  col-sm-6: col-sm-6
                add_region_classes: 1
                attributes: ''
              bottom:
                wrapper: div
                classes:
                  col-sm-12: col-sm-12
                add_region_classes: 1
                attributes: class|mrgn-tp-lg
          page_title: '[node:title]'
          storage_type: panelizer_default
          storage_id: 'node:landing_page:full:two_column'
          pattern: panelizer
          builder: ipe
          static_context: {  }
  ids:
    name:
      type: string
process:
  title:
    plugin: skip_on_empty
    method: row
    source: title
  nid:
    plugin: migration_lookup
    migration: od_ext_node_landing_page
    source: name
  uid:
    plugin: default_value
    default_value: 1
  type:
    plugin: default_value
    default_value: landing_page
  sticky:
    plugin: default_value
    default_value: 0
  body/value:
    plugin: wxt_media_tags
    source: body
  body/format:
    plugin: default_value
    default_value: rich_text
  field_queue: queue
  langcode:
    plugin: default_value
    default_value: "fr"
  content_translation_source:
    plugin: default_value
    default_value: "en"
  path/pathauto:
    plugin: default_value
    default_value: 0
  path/alias: alias
  status:
    plugin: default_value
    default_value: 1
  moderation_state:
    plugin: default_value
    default_value: "published"
  field_meta_tags:
    -
      plugin: skip_on_empty
      method: process
      source: metatags
    -
      plugin: callback
      callable: serialize
  panelizer:
    plugin: iterator
    source: panelizer
    process:
      view_mode:
        plugin: static_map
        source: view_mode
        bypass: true
        map:
          default: default
          page_manager: full
      default: default
      panels_display/blocks:
        plugin: wxt_block_plugin_id
        source: blocks
      panels_display/layout: layout
      panels_display/layout_settings: layout_settings
      panels_display/page_title: page_title
      panels_display/storage_type: storage_type
      panels_display/storage_id: storage_id
      panels_display/pattern: pattern
      panels_display/builder: builder
      panels_display/static_context: static_context
destination:
  plugin: 'entity:node'
  translations: true
migration_dependencies:
  required:
    - gcweb_node_landing_page
    - wxt_media_slideshow
    - gcweb_menu_link_translation
