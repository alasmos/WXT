<?php

/**
 * @file
 * Contains wxt_ext_book.module.
 */

/**
 * Implements hook_preprocess_layout().
 */
function wxt_ext_book_preprocess_layout(&$variables) {
  $node = \Drupal::routeMatch()->getParameter('node');

  if ($node instanceof \Drupal\node\NodeInterface) {
    if ($node->bundle() == 'book' && ($node->book['bid'] == $node->id() || empty($node->book['bid']))) {
      // Remove region to prevent empty div
      unset($variables['content']['left']);
    }
  }
}
